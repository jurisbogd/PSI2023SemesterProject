@model List<Flashcard>

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Sample Flashcards</title>

        <!-- Link to the CSS file -->
        <link rel="stylesheet" href="~/css/flashcard.css">
    </head>
    <body>
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <!-- "Sample Flashcards" text on the left -->
        <h1>Sample Flashcards</h1>
        
        <!-- "Add Flashcard" button on the right -->
        <button id="addFlashcardButton" class="reveal-button">Add Flashcard</button>
    </div>
    


    @using (Html.BeginForm("CreateSampleFlashcard", "Flashcard", FormMethod.Post))
    {
        <!-- Pop-up form for adding flashcards (hidden by default) -->
        <div id="addFlashcardForm" class="popup-form" style="display: none;">
            <h2>Add Flashcard</h2>
            <form>
                <!-- Flashcard input fields -->
                <div class="form-group">
                    <label for="question">Question:</label>
                    <input type="text" id="question" name="question" class="form-control" required>
                </div>

                <div class="form-group">
                    <label for="answer">Answer:</label>
                    <input type="text" id="answer" name="answer" class="form-control" required>
                </div>

                <!-- Difficulty selection dropdown -->
                <div class="form-group">
                    <label for="difficultyLevel">Difficulty:</label>
                    <select id="difficultyLevel" name="difficultyLevel" class="form-control">
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>

                <!-- Submit button -->
                <button type="submit" class="btn btn-primary">Add</button>
            </form>
        </div>
    }
    
    <div class="flashcard-container">
            @foreach (var flashcard in Model)
            {
                <div class="flashcard">
                    <div class="question">@flashcard.question</div>
                    <div class="answer" style="display: none;">@flashcard.answer</div>
                    <button class="reveal-button">Reveal Answer</button>
                    <div class="difficulty">@flashcard.difficultyLevel</div>

                    @using (Html.BeginForm("RemoveSampleFlashcard", "Flashcard", FormMethod.Post))
                    {
                            <button class="remove-button" data-flashcard-id="@flashcard.ID" name="id" value="@flashcard.ID">X</button>
                            // (name) should be set to the same thing its set in the action arguments. I think.
                    }
                    <button class="edit-button" data-flashcard-id="@flashcard.ID">Edit</button>

                </div>
            }
        </div>

        <script src="~/js/flashcard.js"></script>
        <script src="~/js/addFlashcardButton.js"></script>
        <script src="~/js/removeFlashcardButton.js"></script>
        <script>
            // Add event listeners to the Edit buttons
            document.querySelectorAll(".edit-button").forEach(function(button) {
                button.addEventListener("click", function() {
                    var flashcardId = button.getAttribute("data-flashcard-id");
                    window.location.href = "/Flashcard/EditFlashcard?id=" + flashcardId;
                });
            });
        </script>
    </body>
</html>
